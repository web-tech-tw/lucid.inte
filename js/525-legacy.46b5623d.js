(self["webpackChunklucid_inte"]=self["webpackChunklucid_inte"]||[]).push([[525],{8525:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"bg-black min-h-screen overflow-hidden",on:{click:e.documentHandleClickBox}},[n("div",{ref:"screenContainer"},[n("div",{attrs:{id:"screen"}}),n("canvas",{staticClass:"mx-auto",attrs:{id:"vga"}})])]),n("div",{staticClass:"mt-5 px-3 w-full flex justify-between"},[n("button",{staticClass:"w-16 text-base font-medium text-gray-600 hover:text-gray-500",on:{click:e.documentHandleClickButtonPause}},[e._v(" "+e._s(e.emulatorExtendedInfo.isPaused?"恢復":"暫停")+" ")]),n("button",{staticClass:"w-28 text-base font-medium text-gray-600 hover:text-gray-500",on:{click:e.documentHandleClickButtonFullScreen}},[e._v(" 進入全螢幕 ")]),n("button",{staticClass:"w-16 text-base font-medium text-gray-600 hover:text-gray-500",on:{click:e.documentHandleClickButtonReset}},[e._v(" 重置 ")])]),n("div",{staticClass:"mt-5 flex justify-center"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.keyboard,expression:"keyboard"}],staticClass:"rounded-md resize-none border-2 text-center",attrs:{placeholder:"虛擬鍵盤呼出器"},domProps:{value:e.keyboard},on:{input:function(t){t.target.composing||(e.keyboard=t.target.value)}}})])])},r=[];n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(7042),n(8309),n(1038),n(4916),n(7601);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}var s={name:"HomeView",data:function(){return{emulator:null,emulatorExtendedInfo:{isPaused:!1,mouseEnabled:!1},keyboard:""}},watch:{keyboard:function(){var e=this,t=window.requestAnimationFrame;t((function(){e.keyboard=""}))}},computed:{emulatorEventMethods:function(){var e=this;return[{name:"mouse-enable",method:function(t){e.emulatorExtendedInfo.mouseEnabled=t}},{name:"emulator-stopped",method:function(){e.documentRequestExitFullScreen()}}]}},methods:{machineBoot:function(){var e={wasm_path:"./v86.wasm",memory_size:268435456,vga_memory_size:8388608,cdrom:{url:"./machine/system.iso",size:36419584},bios:{url:"./machine/bios/seabios.bin"},vga_bios:{url:"./machine/bios/vgabios.bin"},network_relay_url:"wss://relay.widgetry.org/",screen_container:this.$refs.screenContainer,autostart:!0},t=window.V86Starter;return this.emulator=new t(e),this.emulator},machineSetupEventListener:function(e){var t,n=u(this.emulatorEventMethods);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.add_listener(o.name,o.method)}}catch(r){n.e(r)}finally{n.f()}},machinePowerPause:function(e){this.emulatorExtendedInfo.isPaused?(e.run(),this.emulatorExtendedInfo.isPaused=!1):(e.stop(),this.emulatorExtendedInfo.isPaused=!0)},machinePowerReset:function(e){e.restart()},documentLockMouse:function(){var e=document.body,t=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock||e.msRequestPointerLock;t?t.call(e):console.warn("The browser is not support requestPointerLock")},documentRequestFullScreen:function(){var e=this.$refs.screenContainer,t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;t?t.call(e):console.warn("The browser is not support requestFullscreen")},documentRequestExitFullScreen:function(){var e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;e?e.call(document):console.warn("The browser is not support exitFullscreen")},documentHandleClickBox:function(){this.emulatorExtendedInfo.mouseEnabled&&this.documentLockMouse()},documentHandleClickButtonPause:function(){this.machinePowerPause(this.emulator)},documentHandleClickButtonReset:function(){this.machinePowerReset(this.emulator)},documentHandleClickButtonFullScreen:function(){this.documentRequestFullScreen()}},mounted:function(){var e=this.machineBoot();this.machineSetupEventListener(e)}},c=s,l=n(1001),d=(0,l.Z)(c,o,r,!1,null,null,null),m=d.exports},8457:function(e,t,n){"use strict";var o=n(7854),r=n(9974),a=n(6916),i=n(7908),u=n(3411),s=n(7659),c=n(4411),l=n(6244),d=n(6135),m=n(8554),f=n(1246),h=o.Array;e.exports=function(e){var t=i(e),n=c(this),o=arguments.length,v=o>1?arguments[1]:void 0,b=void 0!==v;b&&(v=r(v,o>2?arguments[2]:void 0));var y,w,x,k,p,g,C=f(t),E=0;if(!C||this==h&&s(C))for(y=l(t),w=n?new this(y):h(y);y>E;E++)g=b?v(t[E],E):t[E],d(w,E,g);else for(k=m(t,C),p=k.next,w=n?new this:[];!(x=a(p,k)).done;E++)g=b?u(k,v,[x.value,E],!0):x.value,d(w,E,g);return w.length=E,w}},3411:function(e,t,n){var o=n(9670),r=n(9212);e.exports=function(e,t,n,a){try{return a?t(o(n)[0],n[1]):t(n)}catch(i){r(e,"throw",i)}}},1038:function(e,t,n){var o=n(2109),r=n(8457),a=n(7072),i=!a((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:i},{from:r})}}]);
//# sourceMappingURL=525-legacy.46b5623d.js.map